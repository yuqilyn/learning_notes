# 信息泄露漏洞
`介绍`
```
 信息泄露，顾名思义，就是一些不应该公开的信息以某种方式遭到了泄露，使一些攻击者可以利用从而攻击
```
`信息泄露举例:`
```
1、通过 robots.txt 文件或目录列表显示隐藏目录的名称、结构和内容
2、通过临时备份提供对源代码文件的访问
3、在错误消息中明确提及数据库表或列名称
4、不必要地暴露高度敏感的信息，例如信用卡详细信息
5、在源代码中硬编码 API 密钥、IP 地址、数据库凭据等
6、通过应用程序行为的细微差别暗示资源、用户名等的存在或不存在
```
## 如何测试信息泄露的漏洞
`一般来说，测试期间不要形成“固定视野”很重要。换句话说，你应该避免过于狭隘地关注某个特定的漏洞。敏感数据可能在各种地方泄露，因此重要的是不要错过任何以后可能有用的东西。你经常会在测试其他东西时发现敏感数据。一项关键技能是能够随时随地识别有趣的信息。`<br/>
```
(1)Fuzzing
(2)Using Burp Scanner
(3)Using Burp's engagement tools
(4)Engineering informative responses
```
### 信息泄露的常见来源
##### 1、网络爬虫文件
```
许多网站在 /robots.txt 和 /sitemap.xml 提供文件来帮助爬虫浏览其网站。除其他事项外，这些文件通常列出爬虫应跳过的特定目录，例如，因为它们可能包含敏感信息。
由于这些文件通常不会从网站内部链接，因此它们可能不会立即出现在 Burp 的站点地图中。但是，值得尝试手动导航到 /robots.txt 或 /sitemap.xml，看看是否能找到任何有用的东西。
```
##### 2、目录列表(文件读取)
```
可以将 Web 服务器配置为自动列出没有索引页的目录的内容。这可以帮助攻击者快速识别给定路径上的资源，并直接分析和攻击这些资源。它特别增加了目录中不打算让用户访问的敏感文件的暴露，例如临时文件和崩溃转储。
目录列表本身不一定是安全漏洞。但是，如果网站也未能实施适当的访问控制，以这种方式泄露敏感资源的存在和位置显然是一个问题。
```
##### 3、开发者遗留信息
```
在开发过程中，有时会将内联 HTML 注释添加到标记中。这些注释通常在将更改部署到生产环境之前被删除。但是，注释有时会被遗忘、遗漏，甚至故意留下，因为有人没有完全意识到安全隐患。虽然这些注释在呈现的页面上不可见，但可以使用 Burp 甚至浏览器的内置开发人员工具轻松访问它们。
有时，这些注释包含对攻击者有用的信息。例如，它们可能暗示隐藏目录的存在或提供有关应用程序逻辑的线索。
```
##### 4、错误消息
```
信息泄露的最常见原因之一是冗长的错误消息。一般来说，您应该密切关注审核期间遇到的所有错误消息。
错误消息的内容可以揭示有关给定参数的预期输入或数据类型的信息。这可以帮助您通过识别可利用的参数来缩小攻击范围。它甚至可以防止您浪费时间尝试注入根本行不通的有效载荷。
详细的错误消息还可以提供有关网站正在使用的不同技术的信息。例如，它们可能明确指出网站正在使用的模板引擎、数据库类型或服务器及其版本号。此信息非常有用，因为您可以轻松搜索此版本可能存在的任何记录的漏洞。同样，您可以检查是否存在任何常见的配置错误或危险的默认设置，您可能会利用这些设置。其中一些可能会在官方文档中突出显示。
您还可能会发现该网站正在使用某种开源框架。在这种情况下，您可以研究公开的源代码，这是构建您自己的漏洞利用的宝贵资源。
错误消息之间的差异还可以揭示幕后发生的不同应用程序行为。观察错误消息的差异是许多技术的关键方面，例如 SQL 注入、用户名枚举等。
```
##### 5、调试数据
```
出于调试目的，许多网站会生成自定义错误消息和日志，其中包含大量有关应用程序行为的信息。虽然这些信息在开发过程中很有用，但如果在生产环境中泄露，对攻击者来说也非常有用。
调试消息有时可能包含开发攻击的重要信息，包括：
可通过用户输入操纵的关键会话变量的值
后端组件的主机名和凭据
服务器上的文件和目录名称
用于加密通过客户端传输的数据的密钥
调试信息有时可能记录在单独的文件中。如果攻击者能够访问此文件，它可以作为了解应用程序运行时状态的有用参考。它还可以提供一些线索，说明他们如何提供精心设计的输入来操纵应用程序状态并控制收到的信息。
```
##### 6、用户帐户页面
```
就其本质而言，用户的个人资料或帐户页面通常包含敏感信息，例如用户的电子邮件地址、电话号码、API 密钥等。由于用户通常只能访问自己的帐户页面，因此这本身并不代表漏洞。但是，某些网站存在逻辑缺陷，可能允许攻击者利用这些页面查看其他用户的数据。
例如，考虑一个根据用户参数确定要加载哪个用户的帐户页面的网站。
GET /user/personal-info?user=carlos
大多数网站都会采取措施防止攻击者简单地更改此参数来访问任意用户的帐户页面。但是，有时加载单个数据的逻辑并不那么强大。
攻击者可能无法完全加载其他用户的帐户页面，但例如，获取和呈现用户注册电子邮件地址的逻辑可能不会检查用户参数是否与当前登录的用户匹配。在这种情况下，只需更改用户参数即可允许攻击者在自己的帐户页面上显示任意用户的电子邮件地址。
当我们介绍访问控制和 IDOR 漏洞时，我们将更详细地研究此类漏洞。
```
##### 7、备份文件
```
获取源代码访问权限使攻击者更容易了解应用程序的行为并构建高严重性攻击。敏感数据有时甚至被硬编码在源代码中。典型示例包括用于访问后端组件的 API 密钥和凭据。
如果您可以确定正在使用某种特定的开源技术，则可以轻松访问有限数量的源代码。
有时，甚至可能导致网站暴露自己的源代码。在映射网站时，您可能会发现某些源代码文件被明确引用。不幸的是，请求它们通常不会显示代码本身。当服务器处理具有特定扩展名（例如 .php）的文件时，它通常会执行代码，而不是简单地将其作为文本发送到客户端。但是，在某些情况下，您可以诱使网站返回文件的内容。例如，文本编辑器通常会在编辑原始文件时生成临时备份文件。这些临时文件通常以某种方式指示，例如在文件名后附加波浪符号 (~) 或添加不同的文件扩展名。使用备份文件扩展名请求代码文件有时可以让您在响应中读取文件的内容。
```
##### 8、不安全配置
```
网站有时会因配置不当而容易受到攻击。这种情况尤其常见，因为第三方技术的广泛使用，而第三方技术的大量配置选项不一定被实施者很好地理解。
在其他情况下，开发人员可能会忘记在生产环境中禁用各种调试选项。例如，HTTP TRACE 方法是为诊断目的而设计的。如果启用，Web 服务器将通过在响应中回显收到的确切请求来响应使用 TRACE 方法的请求。这种行为通常是无害的，但有时会导致信息泄露，例如反向代理可能附加到请求中的内部身份验证标头的名称。
```
##### 9、版本控制历史记录
```
几乎所有网站都是使用某种形式的版本控制系统（例如 Git）开发的。默认情况下，Git 项目将其所有版本控制数据存储在名为 .git 的文件夹中。有时，网站会在生产环境中公开此目录。在这种情况下，您可能只需浏览 /.git 即可访问它。
虽然手动浏览原始文件结构和内容通常不切实际，但有多种方法可以下载整个 .git 目录。然后，您可以使用本地安装的 Git 打开它以访问网站的版本控制历史记录。这可能包括包含已提交更改和其他有趣信息的日志。
这可能无法让您访问完整的源代码，但比较差异将允许您阅读小段代码。与任何源代码一样，您还可能会发现敏感数据硬编码在某些更改的行中。
```
